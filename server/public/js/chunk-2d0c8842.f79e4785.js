(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8842"],{"54e2":function(e,n,t){"use strict";t.r(n);var o=t("7a23"),s={class:"home"},r=Object(o["g"])("h1",null,"Connection",-1),a=Object(o["g"])("button",{type:"submit",class:"btn btn-color"},"Log in",-1);function c(e,n,t,c,i,u){return Object(o["p"])(),Object(o["d"])("div",s,[Object(o["g"])("form",{onSubmit:n[3]||(n[3]=Object(o["C"])((function(e){return u.signIn()}),["prevent"])),class:"box"},[r,Object(o["g"])("div",null,[Object(o["B"])(Object(o["g"])("input",{type:"text",id:"username","onUpdate:modelValue":n[1]||(n[1]=function(e){return i.username=e}),required:"",placeholder:"Username"},null,512),[[o["y"],i.username]])]),Object(o["g"])("div",null,[Object(o["B"])(Object(o["g"])("input",{type:"password","onUpdate:modelValue":n[2]||(n[2]=function(e){return i.password=e}),id:"password",required:"",placeholder:"Password"},null,512),[[o["y"],i.password]])]),a],32)])}t("d3b7"),t("5319"),t("ac1f");var i={name:"Sign in",data:function(){return{username:void 0,password:void 0}},methods:{sendCredentials:function(){var e=this,n=this.username,t=this.password;fetch("/api/v1/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n,password:t})}).then((function(e){return e.json()})).then((function(n){var t=n.success,o=n.token;!0===t&&(localStorage.setItem("token",o),localStorage.setItem("username",e.username),console.log("success"),window.location.replace("/"))})).catch((function(n){e.error=n}))},signIn:function(){var e=this,n=this.username,t=this.password;fetch("/api/v1/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n,password:t})}).then((function(e){return e.json()})).then((function(n){var t=n.success,o=n.usernameCorrect;t&&o&&e.sendCredentials()})).catch((function(n){e.error=n}))}}};i.render=c;n["default"]=i}}]);
//# sourceMappingURL=chunk-2d0c8842.f79e4785.js.map