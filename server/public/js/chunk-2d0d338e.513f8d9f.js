(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d338e"],{"5c9c":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),s={class:"home"},r=Object(o["g"])("h1",null,"Inscription",-1),i=Object(o["g"])("div",null,[Object(o["g"])("input",{type:"text",placeholder:"Nom"})],-1),c=Object(o["g"])("div",null,[Object(o["g"])("input",{type:"text",placeholder:"Prenom"})],-1),a=Object(o["g"])("button",{type:"submit",class:"btn btn-color"},"Sign up",-1);function u(e,t,n,u,d,l){return Object(o["p"])(),Object(o["d"])("div",s,[Object(o["g"])("form",{onSubmit:t[3]||(t[3]=Object(o["C"])((function(e){return l.signUp()}),["prevent"])),class:"box",method:"POST"},[r,i,c,Object(o["g"])("div",null,[Object(o["B"])(Object(o["g"])("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.username=e}),required:"",placeholder:"Username"},null,512),[[o["y"],d.username]])]),Object(o["g"])("div",null,[Object(o["B"])(Object(o["g"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return d.password=e}),id:"password",required:"",placeholder:"Password"},null,512),[[o["y"],d.password]])]),a],32)])}n("d3b7"),n("5319"),n("ac1f");var d={data:function(){return{username:void 0,password:void 0,nom:void 0,prenom:void 0}},methods:{sendCredentials:function(){var e=this,t=this.username,n=this.password;fetch("http://localhost:4000/api/v1/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t,password:n})}).then((function(e){return e.json()})).then((function(t){var n=t.success,o=t.token;!0===n&&(localStorage.setItem("token",o),localStorage.setItem("username",e.username),console.log("success"),window.location.replace("/"))})).catch((function(t){e.error=t}))},signUp:function(){var e=this,t=this.username,n=this.password,o=this.prenom,s=this;console.log("begining signing up"),fetch("http://localhost:4000/api/v1/write",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t,password:n,firstname:o,lastname:s})}).then((function(e){return e.json()})).then((function(t){var n=t.success;n&&e.sendCredentials()})).catch((function(t){e.error=t}))}}};d.render=u;t["default"]=d}}]);
//# sourceMappingURL=chunk-2d0d338e.513f8d9f.js.map